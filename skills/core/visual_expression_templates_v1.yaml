# 视觉表达范例库 v1.0
# 经过验证有效的投资报告可视化模板
# 从台积电报告 91→96→98.5 升级过程沉淀

version: "1.0"
created: "2026-01-29"
source: "TSM报告升级复盘"

# ═══════════════════════════════════════════════════════════════
# 设计原则
# ═══════════════════════════════════════════════════════════════

design_principles:
  - name: "宽度限制"
    rule: "所有ASCII图宽度≤60字符"
    reason: "手机阅读友好，避免横向滚动"
    
  - name: "功能优先"
    rule: "每个视觉元素必须有明确功能"
    reason: "避免纯装饰性元素"
    
  - name: "密度控制"
    rule: "每章节≤3个主要框线元素"
    reason: "避免视觉疲劳"
    
  - name: "对比鲜明"
    rule: "使用🟢🟡🔴等高对比符号"
    reason: "快速识别状态"

# ═══════════════════════════════════════════════════════════════
# 模板1: 30秒速览仪表盘
# ═══════════════════════════════════════════════════════════════

templates:

  speed_dashboard:
    name: "30秒速览仪表盘"
    effectiveness: "⭐⭐⭐⭐⭐"
    use_case: "报告开头，让读者快速决定是否值得深入"
    
    template: |
      ╔══════════════════════════════════════════╗
      ║           30秒速览仪表盘                  ║
      ╠══════════════════════════════════════════╣
      ║  值得研究？  [🟢/🟡/🔴]                    ║
      ║  投资建议？  [买入/持有/观望]              ║
      ║  仓位建议？  [X-Y%]                       ║
      ║  最大风险？  [一句话描述]                  ║
      ╚══════════════════════════════════════════╝
    
    good_example: |
      ╔══════════════════════════════════════════╗
      ║        🔬 台积电 30秒速览                 ║
      ╠══════════════════════════════════════════╣
      ║  值得研究？  🟢 是，AI时代核心受益者       ║
      ║  投资建议？  📈 买入（分批建仓）           ║
      ║  仓位建议？  5-8%（科技配置核心）          ║
      ║  最大风险？  地缘政治+周期性下行            ║
      ╚══════════════════════════════════════════╝
    
    avoid:
      - "把仪表盘放在报告中间或结尾"
      - "使用过于模糊的表述"
      - "超过6行内容"

  # ═══════════════════════════════════════════════════════════════
  # 模板2: 信号灯系统
  # ═══════════════════════════════════════════════════════════════

  signal_light:
    name: "信号灯系统"
    effectiveness: "⭐⭐⭐⭐⭐"
    use_case: "多维度快速判断，红绿灯直觉反应"
    
    template: |
      ┌─────────────────────────────────────────┐
      │  [维度名称]                              │
      │  🟢 [项目1]   🟢 [项目2]   🟡 [项目3]    │
      │  🔴 [项目4]   🟢 [项目5]                 │
      └─────────────────────────────────────────┘
      
      图例：🟢 正面  🟡 中性/需关注  🔴 负面/风险
    
    good_example: |
      ┌─────────────────────────────────────────┐
      │  护城河评估                              │
      │  🟢 技术领先   🟢 规模经济   🟢 客户粘性 │
      │  🟢 网络效应   🟡 品牌认知   🔴 转换成本 │
      └─────────────────────────────────────────┘
    
    avoid:
      - "一行超过3个信号灯"
      - "不提供图例说明"
      - "红绿灯含义不一致"

  # ═══════════════════════════════════════════════════════════════
  # 模板3: 关键数字突出框
  # ═══════════════════════════════════════════════════════════════

  key_number_box:
    name: "关键数字突出框"
    effectiveness: "⭐⭐⭐⭐⭐"
    use_case: "核心数据需要被立刻看到"
    
    template: |
      ╔═══════════════════════════════════════╗
      ║  [指标名称]                            ║
      ║  ████████████████████                  ║
      ║  █    [数值]    █                      ║
      ║  ████████████████████                  ║
      ║  [简短说明]                            ║
      ╚═══════════════════════════════════════╝
    
    simple_version: |
      ┌───────────────────────────────────────┐
      │  💰 当前估值: $210 | 目标: $240-260   │
      │  📊 上涨空间: 14-24%                   │
      └───────────────────────────────────────┘
    
    good_example: |
      ╔═══════════════════════════════════════╗
      ║         核心估值结论                   ║
      ║  ┌─────────────────────────────────┐  ║
      ║  │     合理价值: $240-260          │  ║
      ║  │     当前价格: $210              │  ║
      ║  │     安全边际: 14-24%            │  ║
      ║  └─────────────────────────────────┘  ║
      ╚═══════════════════════════════════════╝
    
    avoid:
      - "把非核心数据也加框"
      - "每页超过2个大框"
      - "框内文字过多"

  # ═══════════════════════════════════════════════════════════════
  # 模板4: 因果链图
  # ═══════════════════════════════════════════════════════════════

  causal_chain:
    name: "因果链图"
    effectiveness: "⭐⭐⭐⭐"
    use_case: "展示逻辑关系，让复杂推理一目了然"
    
    template: |
      [原因] ──→ [中间变量] ──→ [结果]
              ↓
         [影响因素]
    
    good_example: |
      AI算力需求爆发
           │
           ▼
      ┌────────────────┐
      │  先进制程需求  │
      │  N3/N2/A16     │
      └────────────────┘
           │
           ▼
      台积电产能满载 ──→ 定价权增强 ──→ 毛利率提升
           │
           ▼
      ROE维持25%+ ──→ 估值溢价合理
    
    avoid:
      - "超过5个节点的长链条"
      - "交叉箭头导致混乱"
      - "没有标注关键假设"

  # ═══════════════════════════════════════════════════════════════
  # 模板5: 双栏对比框
  # ═══════════════════════════════════════════════════════════════

  dual_column:
    name: "双栏对比框"
    effectiveness: "⭐⭐⭐⭐"
    use_case: "利弊分析、多空对比、情景对比"
    
    template: |
      ┌────────────────┬────────────────┐
      │     [标题A]    │     [标题B]    │
      ├────────────────┼────────────────┤
      │  • 要点1       │  • 要点1       │
      │  • 要点2       │  • 要点2       │
      │  • 要点3       │  • 要点3       │
      └────────────────┴────────────────┘
    
    good_example: |
      ┌────────────────┬────────────────┐
      │    🟢 利好     │    🔴 风险     │
      ├────────────────┼────────────────┤
      │  • AI需求强劲  │  • 地缘风险    │
      │  • 技术领先    │  • 周期性      │
      │  • 定价权强    │  • 资本开支大  │
      └────────────────┴────────────────┘
    
    avoid:
      - "两栏内容数量严重不平衡"
      - "表格超过10行"
      - "内容过于笼统"

  # ═══════════════════════════════════════════════════════════════
  # 模板6: 决策树
  # ═══════════════════════════════════════════════════════════════

  decision_tree:
    name: "决策树"
    effectiveness: "⭐⭐⭐⭐⭐"
    use_case: "复杂判断简化为二叉选择，提供操作指引"
    
    template: |
      [核心问题]
           │
      ┌────┴────┐
      │  条件1？ │
      └────┬────┘
        是│    │否
          ▼    ▼
       [路径A] [路径B]
    
    good_example: |
      现在应该买入台积电吗？
                │
         ┌──────┴──────┐
         │ 相信AI长期   │
         │ 需求趋势？   │
         └──────┬──────┘
          是 ↙      ↘ 否
           ▼          ▼
      ┌─────────┐  ┌─────────┐
      │ 价格合理？│  │ 观望    │
      └────┬────┘  └─────────┘
       是↙   ↘否
        ▼      ▼
      买入   等回调
    
    avoid:
      - "超过3层的深度嵌套"
      - "每个节点超过2个分支"
      - "分支条件不清晰"

  # ═══════════════════════════════════════════════════════════════
  # 模板7: 投资者持仓仪表盘
  # ═══════════════════════════════════════════════════════════════

  investor_dashboard:
    name: "投资者持仓仪表盘"
    effectiveness: "⭐⭐⭐⭐⭐"
    use_case: "展示聪明钱的投票，外部验证分析结论"
    
    template: |
      ╔══════════════════════════════════════════╗
      ║        顶级机构持仓信号                   ║
      ╠══════════════════════════════════════════╣
      ║  [机构名]  [持仓变化]  [占比]  [信号]     ║
      ║  ───────────────────────────────────     ║
      ║  机构A     +XX万股     X.X%    🟢        ║
      ║  机构B     持平        X.X%    🟡        ║
      ║  机构C     -XX万股     X.X%    🔴        ║
      ╠══════════════════════════════════════════╣
      ║  综合信号: [X/Y看多] = [整体判断]         ║
      ╚══════════════════════════════════════════╝
    
    good_example: |
      ╔══════════════════════════════════════════╗
      ║        顶级机构持仓信号 (Q4 2025)         ║
      ╠══════════════════════════════════════════╣
      ║  机构        变化        占比    信号    ║
      ║  ─────────────────────────────────────   ║
      ║  Baillie    +150万股    2.1%    🟢      ║
      ║  Fisher     +80万股     1.8%    🟢      ║
      ║  Primecap   持平        3.2%    🟡      ║
      ║  Capital    +50万股     4.5%    🟢      ║
      ╠══════════════════════════════════════════╣
      ║  综合信号: 4/4看多或持有 = 强烈看多       ║
      ╚══════════════════════════════════════════╝
    
    data_source_note: |
      数据来源: SEC 13F Filing (滞后约45天)
      限制: 仅反映季末持仓快照，不反映交易细节
    
    avoid:
      - "不标注数据来源"
      - "推测投资者的买入理由（除非有直接引用）"
      - "预测投资者的下一步动作"

  # ═══════════════════════════════════════════════════════════════
  # 模板8: 时间线图
  # ═══════════════════════════════════════════════════════════════

  timeline:
    name: "时间线图"
    effectiveness: "⭐⭐⭐⭐"
    use_case: "历史回顾、发展路径、预期时间表"
    
    template: |
      ──●───────●───────●───────●───────●──→
        │       │       │       │       │
       事件1   事件2   事件3   事件4   事件5
       时间1   时间2   时间3   时间4   时间5
    
    good_example: |
      台积电技术演进路线图
      
      ──●───────●───────●───────●───────●──→
        │       │       │       │       │
       N7      N5      N3      N2      A16
      2018    2020    2022    2025    2026+
      
      每代制程: 性能+15% / 功耗-30% / 密度+1.7x
    
    avoid:
      - "时间线超过8个节点"
      - "节点描述过长"
      - "时间间隔不合比例"

  # ═══════════════════════════════════════════════════════════════
  # 模板9: 热力图/评分矩阵
  # ═══════════════════════════════════════════════════════════════

  heatmap:
    name: "热力图/评分矩阵"
    effectiveness: "⭐⭐⭐⭐"
    use_case: "多维度评分，一眼看出强弱分布"
    
    template: |
      ┌────────────┬─────┬─────┬─────┬─────┐
      │    维度    │ 公司A │ 公司B │ 公司C │ 公司D │
      ├────────────┼─────┼─────┼─────┼─────┤
      │  技术实力  │ ████ │ ███  │ ██   │ █    │
      │  市场份额  │ ████ │ ██   │ ███  │ █    │
      │  财务健康  │ ███  │ ████ │ ██   │ ███  │
      │  估值吸引  │ ██   │ ███  │ ████ │ ██   │
      └────────────┴─────┴─────┴─────┴─────┘
      
      图例: ████=优秀  ███=良好  ██=一般  █=较弱
    
    good_example: |
      护城河强度矩阵
      ┌──────────────┬──────┐
      │    护城河    │ 强度 │
      ├──────────────┼──────┤
      │  技术领先    │ ████ │
      │  规模经济    │ ████ │
      │  客户粘性    │ ████ │
      │  网络效应    │ ███  │
      │  品牌认知    │ ██   │
      │  监管壁垒    │ ███  │
      └──────────────┴──────┘
    
    avoid:
      - "维度超过8个"
      - "色块含义不清晰"
      - "没有图例"

  # ═══════════════════════════════════════════════════════════════
  # 模板10: 情景分析框
  # ═══════════════════════════════════════════════════════════════

  scenario_box:
    name: "情景分析框"
    effectiveness: "⭐⭐⭐⭐"
    use_case: "牛市/基准/熊市情景及对应估值"
    
    template: |
      ┌─────────────────────────────────────────┐
      │            情景分析                      │
      ├─────────────┬───────────┬───────────────┤
      │   🐻 熊市   │  📊 基准  │    🐂 牛市    │
      ├─────────────┼───────────┼───────────────┤
      │  假设1      │  假设1    │    假设1      │
      │  假设2      │  假设2    │    假设2      │
      ├─────────────┼───────────┼───────────────┤
      │  目标价X    │  目标价Y  │    目标价Z    │
      │  概率A%     │  概率B%   │    概率C%     │
      └─────────────┴───────────┴───────────────┘
    
    good_example: |
      ┌─────────────────────────────────────────┐
      │         台积电估值情景分析               │
      ├─────────────┬───────────┬───────────────┤
      │   🐻 熊市   │  📊 基准  │    🐂 牛市    │
      ├─────────────┼───────────┼───────────────┤
      │  AI放缓     │  AI持续   │    AI加速     │
      │  周期下行   │  周期中性 │    周期上行   │
      ├─────────────┼───────────┼───────────────┤
      │    $180     │   $240    │     $300      │
      │    20%      │   60%     │     20%       │
      └─────────────┴───────────┴───────────────┘
      
      加权目标价: $180×0.2 + $240×0.6 + $300×0.2 = $240
    
    avoid:
      - "不给概率权重"
      - "情景假设不清晰"
      - "只给价格不给逻辑"

# ═══════════════════════════════════════════════════════════════
# 使用指南
# ═══════════════════════════════════════════════════════════════

usage_guide:
  
  must_have:
    - template: "speed_dashboard"
      location: "报告开头"
      reason: "让读者30秒决定是否继续阅读"
    - template: "key_number_box"
      location: "核心结论处"
      reason: "核心数据必须被立刻看到"
  
  recommended:
    - template: "signal_light"
      location: "多维度评估章节"
    - template: "decision_tree"
      location: "投资建议章节"
    - template: "investor_dashboard"
      location: "投资者验证章节"
  
  optional:
    - template: "causal_chain"
      location: "逻辑推理章节"
    - template: "dual_column"
      location: "利弊分析章节"
    - template: "timeline"
      location: "历史回顾章节"
    - template: "heatmap"
      location: "对比分析章节"
    - template: "scenario_box"
      location: "估值章节"

  density_rule:
    description: "可视化密度控制"
    rules:
      - "每1000字至少1个可视化元素"
      - "每章节不超过3个主要框线"
      - "全篇不超过15个可视化元素"
    reason: "既要丰富又要避免视觉疲劳"

# ═══════════════════════════════════════════════════════════════
# 版本历史
# ═══════════════════════════════════════════════════════════════

changelog:
  - version: "1.0"
    date: "2026-01-29"
    changes:
      - "初始版本，从TSM报告升级复盘中沉淀"
      - "10个经过验证的可视化模板"
      - "使用指南和密度控制规则"
