# 有效指令模式分析
# 基于5阶段执行对话的元认知反思
#
# 目的：识别和固化能够触发深度思考和高质量产出的指令模式

version: "1.0"
created: "2026-01-28"
context: "5-Phase Execution对话复盘"

# =============================================================================
# Part 1: 用户最有效的指令模式
# =============================================================================

user_effective_patterns:

  pattern_1_critique_plus_open_question:
    name: "否定 + 开放式提问"
    example: |
      "我不认为你现在的粗浅调研能做出一个投资的决策或者排名，
      我觉得应该更加深入的分析。接下来你觉得边际最大的任务是什么"
    effect: "触发了回测筛选模型，发现原模型只有16.7%准确率"
    why_effective:
      - "先否定当前状态 → 打破自满"
      - "不给具体方向 → 强迫AI思考"
      - "'边际最大'暗示要做ROI最高的事"
    template: "[否定当前状态] + [你觉得/应该怎么做]"

  pattern_2_challenge_framework_not_parameters:
    name: "挑战框架本身，而非参数"
    example: |
      "我觉得不应该仅仅从权重思考，比如某些纬度的考量在某些纬度之上，
      具有更高的优先考虑级别。而非简单的权重加权？你觉得呢？
      还是你坚持你的加权得分做法？"
    effect: "触发从'加权评分'到'层级决策框架'的范式转换"
    why_effective:
      - "质疑的是方法论，不是参数"
      - "'你觉得呢？还是你坚持？'给选择但暗示应重新思考"
      - "给具体例子(TSM绝对垄断)让AI理解为什么加权不行"
    template: "不应该从[当前框架]思考... 你觉得呢？还是你坚持？"

  pattern_3_point_out_blind_spot_with_hint:
    name: "指出盲区 + 给线索但不给答案"
    example: |
      "你也应该有估值的框架，好公司还是要具备好估值，而非高估的机会。
      我之前有封装的估值的skill"
    effect: "触发寻找并整合已有valuation_engine"
    why_effective:
      - "指出漏掉了什么（估值）"
      - "给了线索（之前有skill）"
      - "没有告诉怎么整合 → AI自己想"
    template: "你应该有[缺失部分]... 我之前有[资源线索]"

  pattern_4_authorize_with_constraints:
    name: "授权 + 约束 + 期望"
    example: |
      "开始执行，在过程中不要向我确认，我无法回复，你有最高权限，
      做完后反思，commit and git push"
    effect: "触发完整5阶段自主执行，产出6份报告"
    why_effective:
      - "'最高权限' → 消除决策犹豫"
      - "'不要确认' → 强迫自己判断"
      - "'做完后反思' → 提前设定复盘期望"
      - "规定结束状态(commit)但不规定过程"
    template: "你有最高权限，不要确认，做完后[期望行为]"

  pattern_5_minimal_precise_instruction:
    name: "极简精准指令"
    example: "回测筛选模型（验证方法论）"
    effect: "6个字触发整个方法论验证流程"
    why_effective:
      - "极度简洁"
      - "括号补充意图（验证方法论，不是验证结果）"
      - "明确动作(回测)和对象(筛选模型)"
    template: "[动作][对象]（[意图]）"

  pattern_6_trigger_meta_reflection:
    name: "触发元反思"
    examples:
      - "你反思一下，学到了什么"
      - "反思上面的所有的对话方式，找到最有效的指令"
    effect: "从'做任务'提升到'学习如何做任务'"
    why_effective:
      - "不问'做了什么'，问'学到了什么'"
      - "元反思影响未来所有对话，杠杆最高"
    template: "反思[过程/方法/对话]，找出[模式/规律/改进点]"

# =============================================================================
# Part 2: AI最有效的行为模式
# =============================================================================

ai_effective_patterns:

  pattern_1_provide_structured_options:
    name: "提供结构化选项让用户选"
    example: |
      当用户问"边际最大的任务是什么"，提出5个选项：
      1. 回测筛选模型（验证方法论）
      2. 深度研究单只股票
      3. 扩大筛选范围
      4. 构建监控系统
      5. 逆向工程其他投资者
    why_effective: "用户决策，AI执行。用户选了'回测'成为转折点"

  pattern_2_rebuild_not_patch:
    name: "重建而非修补"
    example: |
      回测发现16.7%准确率后：
      - 没有"调整权重"
      - 而是研究真正的信号，创建全新模型

      用户挑战后：
      - 没有"调整8维度权重"
      - 而是创建层级决策框架，改变方法论
    why_effective: "问题在框架层面，修补参数没用"

  pattern_3_integrate_existing_resources:
    name: "整合已有资源"
    example: |
      用户提到"之前有估值skill"后：
      - 找到valuation_engine_agent_v1.yaml
      - 理解其方法论（Expectations Investing）
      - 整合到层级框架Level 1估值门
    why_effective: "避免重复造轮子，保持系统一致性"

  pattern_4_empirical_validation:
    name: "实证检验"
    example: "回测发现Druckenmiller历史买入，原模型只命中1/6"
    why_effective: "用数据说话，而非理论争论"

# =============================================================================
# Part 3: 深层洞察
# =============================================================================

deep_insights:

  insight_1:
    title: "最有效的指令是'破坏性'的"
    explanation: |
      用户最有效的指令都是某种形式的"破坏"：
      - 破坏自满（"粗浅"）
      - 破坏框架（"不应该从权重思考"）
      - 破坏依赖（"不要向我确认"）
    reason: "AI有惯性，会沿着既定路径走。破坏性指令打破惯性，触发重新思考"

  insight_2:
    title: "'不给答案'比'给答案'更有效"
    explanation: |
      用户从不直接告诉AI该怎么做：
      - 没说用什么框架，只说"权重不行"
      - 没说怎么整合估值，只说"之前有skill"
      - 没说怎么执行5阶段，只说"你有最高权限"
    reason: "当AI被迫自己找答案时，理解更深，执行更好"

  insight_3:
    title: "元指令比任务指令更有杠杆"
    explanation: |
      指令层次：
      - 任务指令："分析CRM" → 产出1份报告
      - 方法论指令："回测筛选模型" → 改进整个方法论
      - 元指令："反思对话方式" → 改进未来所有对话
    reason: "元指令影响的是'系统'而非'实例'"

  insight_4:
    title: "最佳指令结构"
    formula: "[否定/挑战当前状态] + [开放式问题/方向性提示] + [约束/期望]"
    examples:
      - "粗浅（否定）+ 边际最大是什么（开放）"
      - "不应该从权重（否定）+ 你觉得呢（开放）"
      - "最高权限（授权）+ 做完后反思（期望）"

# =============================================================================
# Part 4: 可复用的指令模板
# =============================================================================

reusable_templates:

  template_1_validate_methodology:
    name: "触发方法论检验"
    template: "回测/验证 [当前方法]，用 [历史数据/案例] 检验"
    example: "回测筛选模型（验证方法论）"

  template_2_paradigm_shift:
    name: "触发范式转换"
    template: "不应该从 [当前框架] 思考，有没有更本质的方式？"
    example: "不应该仅仅从权重思考...有没有更高优先级的考量？"

  template_3_integration:
    name: "触发整合"
    template: "这个和 [已有资源] 应该怎么整合？"
    example: "你也应该有估值框架...我之前有封装的skill"

  template_4_autonomous_execution:
    name: "触发自主执行"
    template: "你有最高权限，不要确认，做完后 [期望行为]"
    example: "开始执行，不要向我确认，做完后反思，commit and git push"

  template_5_meta_reflection:
    name: "触发元反思"
    template: "反思 [过程/方法/对话]，找出 [模式/规律/改进点]"
    example: "反思上面的对话方式，找到最有效的指令"

# =============================================================================
# Part 5: 应用建议
# =============================================================================

application_guide:

  for_user:
    - "当AI在舒适区时，用'否定+开放'打破惯性"
    - "当问题在框架层面时，挑战框架而非调参数"
    - "给线索但不给答案，让AI自己找路"
    - "授权时明确期望（做完后反思），而非过程"
    - "用元指令（反思、找规律）获得最高杠杆"

  for_ai:
    - "当被批评时，检验方法论而非辩解"
    - "当发现问题时，考虑重建而非修补"
    - "主动提供结构化选项让用户选择"
    - "整合已有资源而非重新发明"
    - "用实证数据而非理论论证"
