/**
 * 虚拟数据 - 半导体设备供应链
 * 10家上游公司 + 9家下游分析目标
 */

import type { Company, SupplyChainEdge, ScoringConfig } from '../types/index.js';

// 上游供应商（10家）
export const upstreamCompanies: Company[] = [
  {
    ticker: 'ASML',
    name: 'ASML Holding N.V.',
    cik: '937966',
    sector: 'Semiconductor Equipment',
    market_cap: 380000000000,
    pe_ttm: 42.5,
    ev_ebit_ttm: 38.2,
    gross_margin: 0.512,
    roic: 0.285,
    revenue_growth_yoy: 0.18,
  },
  {
    ticker: 'LRCX',
    name: 'Lam Research Corporation',
    cik: '707549',
    sector: 'Semiconductor Equipment',
    market_cap: 95000000000,
    pe_ttm: 24.8,
    ev_ebit_ttm: 21.5,
    gross_margin: 0.478,
    roic: 0.312,
    revenue_growth_yoy: 0.12,
  },
  {
    ticker: 'AMAT',
    name: 'Applied Materials, Inc.',
    cik: '6951',
    sector: 'Semiconductor Equipment',
    market_cap: 150000000000,
    pe_ttm: 22.3,
    ev_ebit_ttm: 19.8,
    gross_margin: 0.465,
    roic: 0.298,
    revenue_growth_yoy: 0.08,
  },
  {
    ticker: 'KLAC',
    name: 'KLA Corporation',
    cik: '319201',
    sector: 'Semiconductor Equipment',
    market_cap: 85000000000,
    pe_ttm: 28.5,
    ev_ebit_ttm: 25.2,
    gross_margin: 0.612,
    roic: 0.425,
    revenue_growth_yoy: 0.15,
  },
  {
    ticker: 'TER',
    name: 'Teradyne, Inc.',
    cik: '97210',
    sector: 'Semiconductor Equipment',
    market_cap: 18000000000,
    pe_ttm: 32.1,
    ev_ebit_ttm: 28.5,
    gross_margin: 0.582,
    roic: 0.215,
    revenue_growth_yoy: 0.05,
  },
  {
    ticker: 'ENTG',
    name: 'Entegris, Inc.',
    cik: '1101302',
    sector: 'Semiconductor Materials',
    market_cap: 18500000000,
    pe_ttm: 45.2,
    ev_ebit_ttm: 35.8,
    gross_margin: 0.445,
    roic: 0.125,
    revenue_growth_yoy: 0.22,
  },
  {
    ticker: 'MKSI',
    name: 'MKS Instruments, Inc.',
    cik: '1049502',
    sector: 'Semiconductor Equipment',
    market_cap: 8500000000,
    pe_ttm: 18.5,
    ev_ebit_ttm: 15.2,
    gross_margin: 0.468,
    roic: 0.158,
    revenue_growth_yoy: -0.05,
  },
  {
    ticker: 'ONTO',
    name: 'Onto Innovation Inc.',
    cik: '1072633',
    sector: 'Semiconductor Equipment',
    market_cap: 8200000000,
    pe_ttm: 35.8,
    ev_ebit_ttm: 32.5,
    gross_margin: 0.542,
    roic: 0.185,
    revenue_growth_yoy: 0.28,
  },
  {
    ticker: 'ACLS',
    name: 'Axcelis Technologies, Inc.',
    cik: '1113232',
    sector: 'Semiconductor Equipment',
    market_cap: 3800000000,
    pe_ttm: 15.2,
    ev_ebit_ttm: 12.8,
    gross_margin: 0.445,
    roic: 0.285,
    revenue_growth_yoy: 0.35,
  },
  {
    ticker: 'UCTT',
    name: 'Ultra Clean Holdings, Inc.',
    cik: '1275014',
    sector: 'Semiconductor Equipment',
    market_cap: 2100000000,
    pe_ttm: 22.5,
    ev_ebit_ttm: 18.2,
    gross_margin: 0.185,
    roic: 0.125,
    revenue_growth_yoy: 0.08,
  },
];

// 下游客户（9家）
export const downstreamCompanies: Company[] = [
  {
    ticker: 'TSM',
    name: 'Taiwan Semiconductor Manufacturing',
    cik: '1046179',
    sector: 'Semiconductor Foundry',
    market_cap: 650000000000,
    pe_ttm: 25.8,
    ev_ebit_ttm: 18.5,
    gross_margin: 0.545,
    roic: 0.285,
    revenue_growth_yoy: 0.32,
  },
  {
    ticker: 'INTC',
    name: 'Intel Corporation',
    cik: '50863',
    sector: 'Semiconductor IDM',
    market_cap: 85000000000,
    pe_ttm: -15.2, // 亏损
    ev_ebit_ttm: -8.5,
    gross_margin: 0.385,
    roic: -0.025,
    revenue_growth_yoy: -0.15,
  },
  {
    ticker: 'SAMSUNG',
    name: 'Samsung Electronics (Semicon)',
    sector: 'Semiconductor IDM',
    market_cap: 320000000000,
    pe_ttm: 18.5,
    ev_ebit_ttm: 12.5,
    gross_margin: 0.425,
    roic: 0.145,
    revenue_growth_yoy: 0.08,
  },
  {
    ticker: 'MU',
    name: 'Micron Technology, Inc.',
    cik: '723125',
    sector: 'Memory',
    market_cap: 105000000000,
    pe_ttm: 12.5,
    ev_ebit_ttm: 8.2,
    gross_margin: 0.285,
    roic: 0.125,
    revenue_growth_yoy: 0.58,
  },
  {
    ticker: 'NVDA',
    name: 'NVIDIA Corporation',
    cik: '1045810',
    sector: 'Fabless',
    market_cap: 3200000000000,
    pe_ttm: 65.5,
    ev_ebit_ttm: 55.2,
    gross_margin: 0.725,
    roic: 0.685,
    revenue_growth_yoy: 1.22,
  },
  {
    ticker: 'AMD',
    name: 'Advanced Micro Devices, Inc.',
    cik: '2488',
    sector: 'Fabless',
    market_cap: 185000000000,
    pe_ttm: 42.5,
    ev_ebit_ttm: 38.5,
    gross_margin: 0.485,
    roic: 0.085,
    revenue_growth_yoy: 0.45,
  },
  {
    ticker: 'SKHYNIX',
    name: 'SK Hynix Inc.',
    sector: 'Memory',
    market_cap: 95000000000,
    pe_ttm: 8.5,
    ev_ebit_ttm: 5.8,
    gross_margin: 0.385,
    roic: 0.185,
    revenue_growth_yoy: 0.72,
  },
  {
    ticker: 'GFS',
    name: 'GlobalFoundries Inc.',
    cik: '1898496',
    sector: 'Semiconductor Foundry',
    market_cap: 28000000000,
    pe_ttm: 22.5,
    ev_ebit_ttm: 15.8,
    gross_margin: 0.285,
    roic: 0.085,
    revenue_growth_yoy: 0.12,
  },
  {
    ticker: 'UMC',
    name: 'United Microelectronics Corp',
    cik: '1156784',
    sector: 'Semiconductor Foundry',
    market_cap: 18500000000,
    pe_ttm: 12.8,
    ev_ebit_ttm: 8.5,
    gross_margin: 0.345,
    roic: 0.165,
    revenue_growth_yoy: -0.08,
  },
];

// 所有公司
export const allCompanies: Company[] = [...upstreamCompanies, ...downstreamCompanies];

// 供应链关系（虚拟证据）
export const mockSupplyChainEdges: SupplyChainEdge[] = [
  // ASML -> 主要客户
  {
    id: 'edge-001',
    supplier_ticker: 'ASML',
    customer_ticker: 'TSM',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000937966-24-000012',
    evidence_text: 'Taiwan Semiconductor Manufacturing Company Limited accounted for approximately 32% of our net sales in fiscal year 2023.',
    extracted_at: new Date('2024-03-15'),
    confidence: 0.95,
  },
  {
    id: 'edge-002',
    supplier_ticker: 'ASML',
    customer_ticker: 'INTC',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000937966-24-000012',
    evidence_text: 'Intel Corporation represented approximately 15% of total revenue.',
    extracted_at: new Date('2024-03-15'),
    confidence: 0.92,
  },
  {
    id: 'edge-003',
    supplier_ticker: 'ASML',
    customer_ticker: 'SAMSUNG',
    evidence_grade: 'B',
    evidence_source: 'IR Press Release 2024-Q1',
    evidence_text: 'We continue to support Samsung\'s advanced node expansion with our EUV systems.',
    extracted_at: new Date('2024-04-20'),
    confidence: 0.85,
  },
  // LRCX -> 客户
  {
    id: 'edge-004',
    supplier_ticker: 'LRCX',
    customer_ticker: 'TSM',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000707549-24-000015',
    evidence_text: 'TSMC was our largest customer, representing 25% of revenue.',
    extracted_at: new Date('2024-02-28'),
    confidence: 0.94,
  },
  {
    id: 'edge-005',
    supplier_ticker: 'LRCX',
    customer_ticker: 'MU',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000707549-24-000015',
    evidence_text: 'Micron Technology accounted for 18% of our total revenue in FY2023.',
    extracted_at: new Date('2024-02-28'),
    confidence: 0.93,
  },
  // AMAT -> 客户
  {
    id: 'edge-006',
    supplier_ticker: 'AMAT',
    customer_ticker: 'TSM',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000006951-24-000008',
    evidence_text: 'Taiwan Semiconductor Manufacturing Company Limited was our largest customer at 22% of net revenues.',
    extracted_at: new Date('2024-01-20'),
    confidence: 0.95,
  },
  {
    id: 'edge-007',
    supplier_ticker: 'AMAT',
    customer_ticker: 'SAMSUNG',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000006951-24-000008',
    evidence_text: 'Samsung Electronics represented 19% of our fiscal 2023 net revenues.',
    extracted_at: new Date('2024-01-20'),
    confidence: 0.94,
  },
  // KLAC -> 客户
  {
    id: 'edge-008',
    supplier_ticker: 'KLAC',
    customer_ticker: 'TSM',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0000319201-24-000010',
    evidence_text: 'TSMC accounted for 28% of our revenues in fiscal year 2023.',
    extracted_at: new Date('2024-03-01'),
    confidence: 0.96,
  },
  {
    id: 'edge-009',
    supplier_ticker: 'KLAC',
    customer_ticker: 'INTC',
    evidence_grade: 'B',
    evidence_source: 'IR Earnings Call Q4 2023',
    evidence_text: 'Intel remains a significant customer as they ramp their advanced packaging capabilities.',
    extracted_at: new Date('2024-01-25'),
    confidence: 0.82,
  },
  // TER -> 客户
  {
    id: 'edge-010',
    supplier_ticker: 'TER',
    customer_ticker: 'NVDA',
    evidence_grade: 'B',
    evidence_source: 'IR Press Release',
    evidence_text: 'Our test systems support NVIDIA\'s growing AI chip production requirements.',
    extracted_at: new Date('2024-04-15'),
    confidence: 0.78,
  },
  // ENTG -> 客户
  {
    id: 'edge-011',
    supplier_ticker: 'ENTG',
    customer_ticker: 'TSM',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0001101302-24-000005',
    evidence_text: 'TSMC represented approximately 21% of our net sales.',
    extracted_at: new Date('2024-02-15'),
    confidence: 0.91,
  },
  // MKSI -> 客户
  {
    id: 'edge-012',
    supplier_ticker: 'MKSI',
    customer_ticker: 'AMAT',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0001049502-24-000003',
    evidence_text: 'Applied Materials was our largest customer, accounting for 15% of revenues.',
    extracted_at: new Date('2024-02-20'),
    confidence: 0.89,
  },
  {
    id: 'edge-013',
    supplier_ticker: 'MKSI',
    customer_ticker: 'LRCX',
    evidence_grade: 'B',
    evidence_source: 'SEC 10-K 0001049502-24-000003',
    evidence_text: 'Lam Research represented approximately 12% of net revenues.',
    extracted_at: new Date('2024-02-20'),
    confidence: 0.87,
  },
  // ONTO -> 客户
  {
    id: 'edge-014',
    supplier_ticker: 'ONTO',
    customer_ticker: 'TSM',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0001072633-24-000007',
    evidence_text: 'Taiwan Semiconductor Manufacturing Company accounted for 35% of our revenue.',
    extracted_at: new Date('2024-03-10'),
    confidence: 0.94,
  },
  // ACLS -> 客户
  {
    id: 'edge-015',
    supplier_ticker: 'ACLS',
    customer_ticker: 'GFS',
    evidence_grade: 'B',
    evidence_source: 'IR Earnings Call',
    evidence_text: 'GlobalFoundries continues to be a key customer for our implant systems.',
    extracted_at: new Date('2024-04-01'),
    confidence: 0.80,
  },
  // UCTT -> 客户（设备商的供应商）
  {
    id: 'edge-016',
    supplier_ticker: 'UCTT',
    customer_ticker: 'LRCX',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0001275014-24-000002',
    evidence_text: 'Lam Research accounted for 52% of our total revenue.',
    extracted_at: new Date('2024-02-25'),
    confidence: 0.97,
  },
  {
    id: 'edge-017',
    supplier_ticker: 'UCTT',
    customer_ticker: 'AMAT',
    evidence_grade: 'A',
    evidence_source: 'SEC 10-K 0001275014-24-000002',
    evidence_text: 'Applied Materials represented 28% of our revenues.',
    extracted_at: new Date('2024-02-25'),
    confidence: 0.95,
  },
];

// 默认评分配置
export const defaultScoringConfig: ScoringConfig = {
  version: '1.0.0',
  effective_date: '2024-01-01',
  thresholds: {
    pe_overvalued: 40,
    pe_undervalued: 15,
    ev_ebit_overvalued: 35,
    gm_healthy: 0.40,
    roic_good: 0.15,
  },
  weights: {
    valuation: 0.35,
    evidence: 0.40,
    momentum: 0.25,
  },
  evidence_weights: {
    A: 1.0,
    B: 0.7,
    C: 0.4,
  },
};
