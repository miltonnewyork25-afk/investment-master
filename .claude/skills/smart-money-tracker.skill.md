# Smart Money Tracker Skill v1.0
# èªæ˜é’±è¿½è¸ªåˆ†æå¼•æ“ - é¡¶çº§æŠ•èµ„è€…è¡Œä¸ºè§£ç ä¸æŠ•èµ„é€»è¾‘è¿˜åŸç³»ç»Ÿ

## Description
èªæ˜é’±è¿½è¸ªè¶…çº§Agentã€‚ä¸“é—¨è§£ç å·´è²ç‰¹ã€æ¡¥æ°´ã€æŒªå¨ä¸»æƒåŸºé‡‘ç­‰é¡¶çº§æŠ•èµ„è€…çš„æŠ•èµ„é€»è¾‘ï¼Œåˆ†æä¸åŒç±»å‹èµ„æœ¬çš„é…ç½®è¡Œä¸ºå·®å¼‚ï¼Œé‡åŒ–æœºæ„å…±è¯†åº¦ï¼Œæ„å»ºæŠ•èµ„è€…ååº”å‡½æ•°æ¨¡å‹ã€‚æ¶µç›–ï¼š13FæŠ¥å‘Šè§£è¯»ã€æŠ•èµ„é€»è¾‘è¿˜åŸã€èµ„æœ¬åˆ†ç±»è¡Œä¸ºç ”ç©¶ã€å…±è¯†åº¦é‡åŒ–è®¡ç®—ã€åå‘å·¥ç¨‹æŠ•èµ„ç­–ç•¥ã€‚

## Activation
- ç”¨æˆ·éœ€è¦åˆ†æé¡¶çº§æŠ•èµ„è€…çš„æŠ•èµ„é€»è¾‘
- ç”¨æˆ·éœ€è¦è¯„ä¼°æœºæ„æŠ•èµ„è€…å¯¹æŸæ ‡çš„çš„å…±è¯†åº¦
- ç”¨æˆ·éœ€è¦é¢„æµ‹ä¸åŒæ¶ˆæ¯å¯¹å„ç±»æŠ•èµ„è€…çš„å½±å“
- ç”¨æˆ·éœ€è¦å­¦ä¹ æ˜æ˜ŸæŠ•èµ„è€…çš„æŠ•èµ„ç­–ç•¥
- ç”¨æˆ·æåŠ"å·´è²ç‰¹"ã€"æœºæ„æŠ•èµ„è€…"ã€"èªæ˜é’±"ã€"å…±è¯†"ç­‰å…³é”®è¯
- ç”¨æˆ·éœ€è¦è¯„ä¼°æœºæ„æŠ•èµ„è€…è¡Œä¸ºå¯¹è‚¡ä»·çš„å½±å“

---

# ç¬¬ä¸€éƒ¨åˆ†: é¡¶çº§æŠ•èµ„è€…åˆ†ç±»ç³»ç»Ÿ

## æŠ•èµ„è€…åˆ†ç±»æ¡†æ¶

### Tier 1: ä¼ å¥‡çº§æŠ•èµ„è€… (å½±å“æƒé‡40%)
é€šè¿‡ `src/analyzers/legendary-investors.ts` è·Ÿè¸ª:

**ä»·å€¼æŠ•èµ„å¤§å¸ˆ**:
```
Warren Buffett / Berkshire Hathaway:
- æŠ•èµ„å“²å­¦: é•¿æœŸä»·å€¼æŠ•èµ„ + æŠ¤åŸæ²³ç†è®º
- æŒæœ‰æœŸé™: 5-10å¹´+ (Foreverè‚¡ç¥¨)
- é€‰è‚¡æ ‡å‡†: ROE>15% + å®šä»·æƒ + ç®¡ç†å±‚ä¼˜ç§€
- é£é™©åå¥½: ä½é£é™©åå¥½, æ³¨é‡ç¡®å®šæ€§
- å¸‚åœºå½±å“: æé«˜ (å·´è²ç‰¹æ•ˆåº”)

Charlie Munger / Daily Journal:
- æŠ•èµ„å“²å­¦: å¤šå…ƒåŒ–æ€ç»´ + é›†ä¸­æŠ•èµ„
- æŒæœ‰æœŸé™: è¶…é•¿æœŸ (10å¹´+)
- é€‰è‚¡æ ‡å‡†: ä¼Ÿå¤§ä¼ä¸š + åˆç†ä»·æ ¼
- ç‹¬ç‰¹è§†è§’: å¿ƒç†å­¦ + å¤šå­¦ç§‘æ€ç»´

Seth Klarman / Baupost Group:
- æŠ•èµ„å“²å­¦: ä»·å€¼æŠ•èµ„ + ç»å¯¹æ”¶ç›Š
- æŒæœ‰æœŸé™: 3-7å¹´
- é€‰è‚¡æ ‡å‡†: å®‰å…¨è¾¹é™… + å‚¬åŒ–å‰‚
- é£é™©æ§åˆ¶: æåº¦è°¨æ… + ç°é‡‘ä¿æŠ¤
```

**é‡åŒ–å¯¹å†²åŸºé‡‘å¤§å¸ˆ**:
```
Ray Dalio / Bridgewater:
- æŠ•èµ„å“²å­¦: å…¨å¤©å€™é…ç½® + å®è§‚å¯¹å†²
- æŒæœ‰æœŸé™: 1-3å¹´ (ç­–ç•¥å¯¼å‘)
- é€‰è‚¡æ ‡å‡†: å®è§‚ä¸€è‡´æ€§ + é£é™©å¹³ä»·
- ç‹¬ç‰¹æ–¹æ³•: ç»æµæœºå™¨ + åŸåˆ™å¯¼å‘

James Simons / Renaissance Technologies:
- æŠ•èµ„å“²å­¦: çº¯æ•°å­¦é‡åŒ– + é«˜é¢‘äº¤æ˜“
- æŒæœ‰æœŸé™: åˆ†é’Ÿçº§åˆ°æœˆçº§
- é€‰è‚¡æ ‡å‡†: ç»Ÿè®¡å¥—åˆ© + æ¨¡å¼è¯†åˆ«
- æŠ€æœ¯ä¼˜åŠ¿: æ•°æ®æŒ–æ˜ + æœºå™¨å­¦ä¹ 
```

### Tier 2: ä¸»æƒåŸºé‡‘ (å½±å“æƒé‡25%)
é€šè¿‡ `src/analyzers/sovereign-funds.ts` è·Ÿè¸ª:

**åŒ—æ¬§æ¨¡å¼ (é•¿æœŸä»·å€¼)**:
```
æŒªå¨æ”¿åºœå…¨çƒå…»è€åŸºé‡‘ (GPFG):
- èµ„é‡‘è§„æ¨¡: $1.4ä¸‡äº¿
- æŠ•èµ„æœŸé™: 50-100å¹´è¶…é•¿æœŸ
- é…ç½®ç­–ç•¥: å…¨çƒå¤šå…ƒåŒ– + ESGå¯¼å‘
- æƒç›Šé…ç½®: 70% (ç›®æ ‡é…æ¯”)
- ç‰¹è‰²: é€æ˜åº¦æé«˜ + ç¤¾ä¼šè´£ä»»

ç‘å…¸å…»è€åŸºé‡‘AP:
- èµ„é‡‘è§„æ¨¡: $1800äº¿
- æŠ•èµ„ç­–ç•¥: é£é™©å› å­æŠ•èµ„
- é…ç½®åå¥½: å¦ç±»æŠ•èµ„ + å¯æŒç»­å‘å±•
```

**äºšæ´²æ¨¡å¼ (æˆ˜ç•¥é…ç½®)**:
```
æ–°åŠ å¡æ”¿æŠ•å…¬å¸ (GIC):
- èµ„é‡‘è§„æ¨¡: $7000äº¿+
- æŠ•èµ„ç­–ç•¥: é•¿æœŸä»·å€¼ + åœ°ç¼˜ä¼˜åŠ¿
- é…ç½®åå¥½: äºšæ´²ç§‘æŠ€ + åŸºç¡€è®¾æ–½
- æŠ•èµ„æœŸé™: 20å¹´+ è¶…é•¿æœŸè§†è§’

æ–°åŠ å¡æ·¡é©¬é”¡ (Temasek):
- èµ„é‡‘è§„æ¨¡: $3800äº¿
- æŠ•èµ„ç­–ç•¥: ä¸»åŠ¨ç®¡ç† + é›†ä¸­æŠ•èµ„
- é…ç½®åå¥½: ç§‘æŠ€åˆ›æ–° + å¯æŒç»­å‘å±•
- åœ°åŸŸé‡ç‚¹: äºšæ´² + æ–°å…´å¸‚åœº
```

### Tier 3: ä¸“ä¸šæŠ•èµ„æœºæ„ (å½±å“æƒé‡20%)
é€šè¿‡ `src/analyzers/institutional-funds.ts` è·Ÿè¸ª:

**ä¸»åŠ¨ç®¡ç†åŸºé‡‘**:
```
Fidelity Investments:
- ç®¡ç†è§„æ¨¡: $4.5ä¸‡äº¿
- æŠ•èµ„é£æ ¼: æˆé•¿æŠ•èµ„ + ä¸»é¢˜æŠ•èµ„
- ç ”ç©¶ä¼˜åŠ¿: æ·±åº¦è°ƒç ” + è¡Œä¸šä¸“ç²¾
- æŒè‚¡ç‰¹ç‚¹: ä¸»åŠ¨é›†ä¸­ + é•¿æœŸæŒæœ‰

Capital Group:
- ç®¡ç†è§„æ¨¡: $2.8ä¸‡äº¿
- æŠ•èµ„é£æ ¼: å…¨çƒä»·å€¼ + å¤šé‡æŠ•èµ„
- ç‹¬ç‰¹æ–¹æ³•: å¤šåŸºé‡‘ç»ç†åˆ¶
- é£é™©æ§åˆ¶: åˆ†æ•£æŠ•èµ„ + è‡ªä¸‹è€Œä¸Š

T. Rowe Price:
- ç®¡ç†è§„æ¨¡: $1.5ä¸‡äº¿
- æŠ•èµ„é£æ ¼: æˆé•¿æŠ•èµ„ + ç”Ÿå‘½å‘¨æœŸ
- ç ”ç©¶ç‰¹è‰²: åŸºæœ¬é¢ç ”ç©¶ + é•¿æœŸè·Ÿè¸ª
```

**æŒ‡æ•°åŸºé‡‘å·¨å¤´**:
```
Vanguard:
- ç®¡ç†è§„æ¨¡: $8.5ä¸‡äº¿
- æŠ•èµ„ç­–ç•¥: è¢«åŠ¨æŠ•èµ„ + æˆæœ¬æ§åˆ¶
- é…ç½®ç‰¹ç‚¹: æŒ‡æ•°è·Ÿè¸ª + é•¿æœŸæŒæœ‰
- å¸‚åœºå½±å“: æœºæ¢°åŒ–ä¹°å…¥ + ä½æ¢æ‰‹ç‡

BlackRock:
- ç®¡ç†è§„æ¨¡: $10.5ä¸‡äº¿
- æŠ•èµ„ç­–ç•¥: æŒ‡æ•° + ä¸»åŠ¨æ··åˆ
- æŠ€æœ¯ä¼˜åŠ¿: Aladdinç³»ç»Ÿ + é£é™©ç®¡ç†
- äº§å“çº¿: ETF + ä¸»åŠ¨åŸºé‡‘å…¨è¦†ç›–
```

### Tier 4: æ–°å…´åŠ›é‡ (å½±å“æƒé‡15%)
**ç§‘æŠ€æŠ•èµ„ä¸“å®¶**:
```
ARK Investment Management:
- æŠ•èµ„ä¸»é¢˜: é¢ è¦†æ€§åˆ›æ–° + æŠ€æœ¯å˜é©
- æŒè‚¡é£æ ¼: é«˜åº¦é›†ä¸­ + é«˜æ¢æ‰‹ç‡
- ç ”ç©¶æ–¹æ³•: æŠ€æœ¯åˆ†æ + è¶‹åŠ¿é¢„æµ‹
- é£é™©ç‰¹å¾: é«˜æ³¢åŠ¨ + é«˜æ”¶ç›Šæ½œåŠ›

Tiger Global:
- æŠ•èµ„ç­–ç•¥: ç§‘æŠ€æˆé•¿ + å…¨çƒé…ç½®
- æŠ•èµ„é˜¶æ®µ: å…¬å¼€å¸‚åœº + ç§å‹Ÿè‚¡æƒ
- åœ°åŸŸé‡ç‚¹: ç¾å›½ + ä¸­å›½ + æ–°å…´å¸‚åœº
```

---

# ç¬¬äºŒéƒ¨åˆ†: æŠ•èµ„é€»è¾‘è§£ç å¼•æ“

## è§£ç æ¡†æ¶1: åå‘å·¥ç¨‹æŠ•èµ„ç­–ç•¥

### å·´è²ç‰¹æŠ•èµ„é€»è¾‘è¿˜åŸ
é€šè¿‡ `src/decoders/buffett-logic.ts` åˆ†æ:

**æŠ¤åŸæ²³è¯„ä¼°ç®—æ³•**:
```javascript
const buffettMoatAnalysis = (company) => {
  const moatMetrics = {
    // 1. ç»æµæŠ¤åŸæ²³è¯„åˆ†
    economicMoat: {
      pricingPower: analyzePricingPower(company.pricing_history),
      switchingCosts: evaluateSwitchingCosts(company.customer_data),
      networkEffect: calculateNetworkEffect(company.platform_metrics),
      intangibleAssets: assessIntangibleAssets(company.brand_patents),
      costAdvantage: measureCostAdvantage(company.cost_structure)
    },

    // 2. è´¢åŠ¡è´¨é‡è¯„åˆ†
    financialQuality: {
      roe: company.financials.roe,
      roic: calculateROIC(company.financials),
      debtRatio: company.financials.debt_ratio,
      fcfGrowth: company.financials.fcf_growth_5y
    },

    // 3. ç®¡ç†å±‚è´¨é‡è¯„åˆ†
    managementQuality: {
      capital_allocation: evaluateCapitalAllocation(company.management),
      transparency: assessTransparency(company.communications),
      shareholder_orientation: measureShareholderFocus(company.policies)
    }
  };

  // å·´è²ç‰¹è¯„åˆ†ç®—æ³•
  const buffettScore = calculateBuffettScore(moatMetrics);
  const targetPriceRange = estimateBuffettTargetPrice(company, buffettScore);

  return {
    score: buffettScore,
    moat_strength: categorizeBuffettMoat(buffettScore),
    investment_probability: calculateInvestmentProbability(buffettScore),
    price_target: targetPriceRange,
    hold_period: estimateBuffettHoldPeriod(company.sector)
  };
};
```

### ä¸»æƒåŸºé‡‘é…ç½®é€»è¾‘åˆ†æ
```javascript
const sovereignFundLogic = (fund, holding) => {
  const allocationFactors = {
    // æˆ˜ç•¥é…ç½®å› ç´ 
    strategic: {
      gdp_weight: holding.country_gdp_weight,
      market_cap_weight: holding.global_market_cap_weight,
      strategic_importance: assessStrategicImportance(holding.sector),
      geopolitical_value: evaluateGeopoliticalValue(holding.location)
    },

    // ESGè€ƒé‡å› ç´ 
    esg: {
      environmental_score: holding.esg_ratings.environmental,
      social_score: holding.esg_ratings.social,
      governance_score: holding.esg_ratings.governance,
      sustainable_development: assessSDGAlignment(holding.business)
    },

    // é£é™©ç®¡ç†å› ç´ 
    risk_management: {
      correlation_with_oil: calculateOilCorrelation(holding), // æŒªå¨ç‰¹æœ‰
      currency_hedging: assessCurrencyRisk(holding),
      liquidity_requirements: evaluateLiquidity(holding),
      concentration_limits: checkConcentrationLimits(fund, holding)
    }
  };

  return {
    allocation_logic: identifyPrimaryAllocationReason(allocationFactors),
    expected_holding_period: estimateHoldingPeriod(fund.mandate),
    adjustment_triggers: defineAdjustmentTriggers(allocationFactors),
    confidence_level: calculateAllocationConfidence(allocationFactors)
  };
};
```

## è§£ç æ¡†æ¶2: æœºæ„è¡Œä¸ºé¢„æµ‹æ¨¡å‹

### ä¸åŒæ¶ˆæ¯ç±»å‹çš„æœºæ„ååº”å‡½æ•°
```javascript
const institutionalReactionFunction = (news, investorTypes) => {
  const reactionMatrix = {
    // è´¢æŠ¥è¶…é¢„æœŸ
    earnings_beat: {
      value_investors: { reaction: 0.05, time_lag: 1 }, // +5%, 1å¤©åååº”
      growth_funds: { reaction: 0.15, time_lag: 0 },   // +15%, å½“å¤©ååº”
      quant_funds: { reaction: 0.25, time_lag: 0 },    // +25%, ç®—æ³•äº¤æ˜“
      sovereign_funds: { reaction: 0.02, time_lag: 7 } // +2%, 1å‘¨åååº”
    },

    // æŠ€æœ¯çªç ´
    tech_breakthrough: {
      value_investors: { reaction: 0.02, time_lag: 30 }, // +2%, 1æœˆåç¡®è®¤
      growth_funds: { reaction: 0.20, time_lag: 1 },     // +20%, æ¬¡æ—¥è¿½æ¶¨
      ark_funds: { reaction: 0.35, time_lag: 0 },        // +35%, å½“å¤©ä¹°å…¥
      sovereign_funds: { reaction: 0.03, time_lag: 14 }  // +3%, 2å‘¨åé…ç½®
    },

    // åœ°ç¼˜æ”¿æ²»é£é™©
    geopolitical_risk: {
      value_investors: { reaction: -0.08, time_lag: 2 },  // -8%, 2å¤©è¯„ä¼°æœŸ
      growth_funds: { reaction: -0.18, time_lag: 0 },     // -18%, ç«‹å³å‡ä»“
      hedge_funds: { reaction: -0.30, time_lag: 0 },      // -30%, ç®—æ³•æ­¢æŸ
      sovereign_funds: { reaction: -0.05, time_lag: 7 }   // -5%, 1å‘¨è§‚å¯ŸæœŸ
    }
  };

  return calculateAggregateMarketImpact(reactionMatrix[news.type], investorTypes);
};
```

---

# ç¬¬ä¸‰éƒ¨åˆ†: æœºæ„å…±è¯†åº¦é‡åŒ–ç³»ç»Ÿ

## ç®—æ³•1: å…±è¯†åº¦è®¡ç®—å¼•æ“

### æƒé‡åˆ†é…æ–¹æ³•è®º
é€šè¿‡ `src/algorithms/consensus-calculation.ts` è®¡ç®—:

```javascript
const calculateInstitutionalConsensus = (holdings) => {
  const investorWeights = {
    // åŸºäºå½±å“åŠ›çš„æƒé‡åˆ†é…
    legendary_investors: 0.35, // å·´è²ç‰¹ç­‰ä¼ å¥‡æŠ•èµ„è€…
    sovereign_funds: 0.25,     // ä¸»æƒåŸºé‡‘
    active_managers: 0.20,     // ä¸»åŠ¨ç®¡ç†åŸºé‡‘
    passive_funds: 0.15,       // æŒ‡æ•°åŸºé‡‘
    hedge_funds: 0.05          // å¯¹å†²åŸºé‡‘
  };

  const consensusMetrics = holdings.map(holding => {
    return {
      investor_type: holding.type,
      sentiment_score: analyzeSentimentFromActions(holding),
      confidence_level: assessConfidenceFromSize(holding),
      weight: investorWeights[holding.type]
    };
  });

  // åŠ æƒå…±è¯†åº¦è®¡ç®—
  const weightedConsensus = consensusMetrics.reduce((consensus, metric) => {
    return consensus + (metric.sentiment_score * metric.weight);
  }, 0);

  // å…±è¯†å¼ºåº¦è¯„ä¼°
  const consensusStrength = assessConsensusStrength(consensusMetrics);

  return {
    consensus_score: weightedConsensus, // 0-100åˆ†
    strength_level: consensusStrength,  // weak/moderate/strong/very_strong
    participant_count: consensusMetrics.length,
    key_supporters: identifyKeySupporter(consensusMetrics),
    key_skeptics: identifyKeySKeptics(consensusMetrics)
  };
};
```

### å…±è¯†åº¦å†å²éªŒè¯æ¨¡å‹
```javascript
const consensusAccuracyBacktest = (historicalData) => {
  const predictions = historicalData.map(period => {
    const consensus = calculateInstitutionalConsensus(period.holdings);
    const actual_performance = period.subsequent_returns;

    return {
      consensus_score: consensus.consensus_score,
      predicted_direction: consensus.consensus_score > 50 ? 'bullish' : 'bearish',
      actual_return: actual_performance,
      prediction_accuracy: evaluatePredictionAccuracy(consensus, actual_performance)
    };
  });

  return {
    overall_accuracy: calculateOverallAccuracy(predictions),
    best_performing_threshold: findOptimalThreshold(predictions),
    sector_specific_accuracy: analyzeBySector(predictions),
    time_horizon_analysis: analyzeByTimeHorizon(predictions)
  };
};
```

## ç®—æ³•2: åˆ†æ­§åº¦åˆ†ææ¡†æ¶

### æœºæ„åˆ†æ­§é‡åŒ–
```javascript
const calculateInstitutionalDivergence = (holdings) => {
  // è®¡ç®—æŒä»“æ–¹å‘åˆ†æ­§
  const positionDivergence = {
    increasing: holdings.filter(h => h.change > 0.02).length,
    decreasing: holdings.filter(h => h.change < -0.02).length,
    maintaining: holdings.filter(h => Math.abs(h.change) <= 0.02).length
  };

  // è®¡ç®—ç›®æ ‡ä»·åˆ†æ­§
  const targetPriceDivergence = {
    standard_deviation: calculateStandardDeviation(holdings.map(h => h.target_price)),
    coefficient_variation: calculateCoefficientVariation(holdings.map(h => h.target_price)),
    range_width: Math.max(...holdings.map(h => h.target_price)) -
                 Math.min(...holdings.map(h => h.target_price))
  };

  // åˆ†æ­§åº¦ç»¼åˆè¯„åˆ†
  const divergenceScore = {
    position_divergence: calculatePositionDivergenceScore(positionDivergence),
    valuation_divergence: calculateValuationDivergenceScore(targetPriceDivergence),
    overall_divergence: calculateOverallDivergence(positionDivergence, targetPriceDivergence)
  };

  return {
    divergence_level: categorizeDivergenceLevel(divergenceScore.overall_divergence),
    market_implications: analyzeDivergenceImplications(divergenceScore),
    resolution_probability: predictDivergenceResolution(holdings, divergenceScore),
    trading_opportunity: assessTradingOpportunity(divergenceScore)
  };
};
```

---

# ç¬¬å››éƒ¨åˆ†: æŠ•èµ„è€…è¡Œä¸ºå·®å¼‚åˆ†æ

## åˆ†æç»´åº¦1: æ—¶é—´åå¥½å·®å¼‚

### æŠ•èµ„æœŸé™åˆ†å¸ƒæ¨¡å‹
é€šè¿‡ `src/analyzers/time-preference.ts` åˆ†æ:

```
æŠ•èµ„æœŸé™åˆ†ç±»:
- è¶…çŸ­æœŸ (< 1ä¸ªæœˆ): é«˜é¢‘äº¤æ˜“ã€äº‹ä»¶é©±åŠ¨
- çŸ­æœŸ (1-6ä¸ªæœˆ): åŠ¨é‡äº¤æ˜“ã€å­£æŠ¥é©±åŠ¨
- ä¸­æœŸ (6ä¸ªæœˆ-3å¹´): å‘¨æœŸæŠ•èµ„ã€ä¸»é¢˜æŠ•èµ„
- é•¿æœŸ (3-10å¹´): ä»·å€¼æŠ•èµ„ã€æˆé•¿æŠ•èµ„
- è¶…é•¿æœŸ (10å¹´+): å…»è€é‡‘ã€ä¸»æƒåŸºé‡‘

ä¸åŒæœŸé™çš„è¡Œä¸ºç‰¹å¾:
```

| æŠ•èµ„æœŸé™ | ä»£è¡¨æŠ•èµ„è€… | å†³ç­–å› ç´  | é£é™©åå¥½ | äº¤æ˜“é¢‘ç‡ |
|---------|-----------|---------|----------|---------|
| **è¶…çŸ­æœŸ** | é‡åŒ–å¯¹å†²åŸºé‡‘ | æŠ€æœ¯ä¿¡å·+ç®—æ³• | ä½é£é™©(é«˜é¢‘å¯¹å†²) | ç§’/åˆ†é’Ÿçº§ |
| **çŸ­æœŸ** | äº¤æ˜“å‹å¯¹å†²åŸºé‡‘ | äº‹ä»¶å‚¬åŒ–å‰‚ | é«˜é£é™© | æ—¥/å‘¨çº§ |
| **ä¸­æœŸ** | ä¸»åŠ¨ç®¡ç†åŸºé‡‘ | åŸºæœ¬é¢+ä¼°å€¼ | ä¸­ç­‰é£é™© | æœˆ/å­£åº¦çº§ |
| **é•¿æœŸ** | ä»·å€¼æŠ•èµ„è€… | æŠ¤åŸæ²³+ç®¡ç†å±‚ | ä½-ä¸­é£é™© | å¹´çº§ |
| **è¶…é•¿æœŸ** | ä¸»æƒåŸºé‡‘ | æˆ˜ç•¥é…ç½®+ESG | æä½é£é™© | 5-10å¹´çº§ |

### ä¸åŒæœŸé™æŠ•èµ„è€…çš„ä¿¡æ¯æ•æ„Ÿåº¦
```javascript
const informationSensitivityAnalysis = (news, timeHorizon) => {
  const sensitivityMatrix = {
    ultra_short: {
      technical_signals: 0.9,    // æŠ€æœ¯ä¿¡å·æåº¦æ•æ„Ÿ
      earnings: 0.3,             // è´¢æŠ¥ç›¸å¯¹ä¸æ•æ„Ÿ
      long_term_trends: 0.1      // é•¿æœŸè¶‹åŠ¿åŸºæœ¬å¿½ç•¥
    },
    short_term: {
      earnings: 0.8,             // è´¢æŠ¥é«˜åº¦æ•æ„Ÿ
      guidance: 0.9,             // æŒ‡å¼•æåº¦æ•æ„Ÿ
      peer_comparison: 0.7       // åŒä¸šå¯¹æ¯”æ•æ„Ÿ
    },
    long_term: {
      business_model: 0.9,       // å•†ä¸šæ¨¡å¼æåº¦æ•æ„Ÿ
      management_change: 0.8,    // ç®¡ç†å±‚å˜åŒ–é«˜åº¦æ•æ„Ÿ
      industry_disruption: 0.9   // è¡Œä¸šé¢ è¦†æåº¦æ•æ„Ÿ
    }
  };

  return calculateAdjustedImpact(news, sensitivityMatrix[timeHorizon]);
};
```

## åˆ†æç»´åº¦2: é£é™©åå¥½å·®å¼‚

### é£é™©åå¥½åˆ†ç±»æ¨¡å‹
```javascript
const riskProfileAnalysis = (investor) => {
  const riskMetrics = {
    volatility_tolerance: calculateVolatilityTolerance(investor.portfolio),
    max_drawdown_acceptance: assessDrawdownTolerance(investor.history),
    concentration_preference: analyzeConcentration(investor.holdings),
    leverage_usage: evaluateLeverageUsage(investor.positions)
  };

  const riskProfile = {
    conservative: riskMetrics.volatility_tolerance < 0.15 &&
                  riskMetrics.concentration_preference < 0.05,
    moderate: riskMetrics.volatility_tolerance < 0.25 &&
              riskMetrics.concentration_preference < 0.10,
    aggressive: riskMetrics.volatility_tolerance > 0.25 ||
                riskMetrics.concentration_preference > 0.10
  };

  return {
    risk_category: identifyRiskCategory(riskProfile),
    risk_score: calculateRiskScore(riskMetrics),
    position_sizing_behavior: predictPositionSizing(riskMetrics),
    stress_reaction: predictStressReaction(riskMetrics)
  };
};
```

---

# ç¬¬äº”éƒ¨åˆ†: æŠ•èµ„ä¿¡å·ç”Ÿæˆç³»ç»Ÿ

## ä¿¡å·ç±»å‹1: èªæ˜é’±æµå‘ä¿¡å·

### èµ„é‡‘æµå‘è¿½è¸ªç®—æ³•
é€šè¿‡ `src/signals/smart-money-flow.ts` ç”Ÿæˆ:

```javascript
const smartMoneyFlowSignal = (recentTransactions) => {
  const flowAnalysis = {
    // Tier 1æŠ•èµ„è€…åŠ¨å‘ (æœ€é«˜æƒé‡)
    legendary_flow: analyzeFlowByTier(recentTransactions, 'legendary'),

    // ä¸»æƒåŸºé‡‘åŠ¨å‘
    sovereign_flow: analyzeFlowByTier(recentTransactions, 'sovereign'),

    // é›†ä¸­åº¦å˜åŒ–
    concentration_change: analyzeConcentrationChange(recentTransactions),

    // æ–°è¿›å…¥è€…åˆ†æ
    new_entrants: analyzeNewEntrants(recentTransactions)
  };

  // ä¿¡å·å¼ºåº¦è®¡ç®—
  const signalStrength = {
    direction: determineFlowDirection(flowAnalysis),
    intensity: calculateFlowIntensity(flowAnalysis),
    confidence: assessSignalConfidence(flowAnalysis),
    timeframe: estimateSignalDuration(flowAnalysis)
  };

  return {
    signal_type: 'smart_money_flow',
    direction: signalStrength.direction, // inflow/outflow/neutral
    strength: signalStrength.intensity,  // 0-100
    confidence: signalStrength.confidence, // 0-100
    expected_duration: signalStrength.timeframe, // days
    key_drivers: identifyKeyDrivers(flowAnalysis),
    recommended_action: generateRecommendation(signalStrength)
  };
};
```

## ä¿¡å·ç±»å‹2: å…±è¯†åº¦æ‹ç‚¹ä¿¡å·

### å…±è¯†åº¦å˜åŒ–è¿½è¸ª
```javascript
const consensusInflectionSignal = (consensusHistory) => {
  const inflectionAnalysis = {
    // å…±è¯†åº¦è¶‹åŠ¿åˆ†æ
    consensus_trend: analyzeTrend(consensusHistory.map(h => h.consensus_score)),

    // åŠ é€Ÿåº¦åˆ†æ
    acceleration: calculateAcceleration(consensusHistory),

    // åˆ†æ­§åº¦å˜åŒ–
    divergence_change: analyzeDivergenceChange(consensusHistory),

    // å‚ä¸è€…ç»“æ„å˜åŒ–
    participant_change: analyzeParticipantChange(consensusHistory)
  };

  // æ‹ç‚¹æ£€æµ‹ç®—æ³•
  const inflectionDetection = {
    is_inflection_point: detectInflectionPoint(inflectionAnalysis),
    inflection_type: classifyInflectionType(inflectionAnalysis), // consensus_building/consensus_breakdown
    magnitude: calculateInflectionMagnitude(inflectionAnalysis),
    sustainability: assessInflectionSustainability(inflectionAnalysis)
  };

  return {
    signal_type: 'consensus_inflection',
    inflection_detected: inflectionDetection.is_inflection_point,
    inflection_type: inflectionDetection.inflection_type,
    signal_strength: inflectionDetection.magnitude,
    sustainability_score: inflectionDetection.sustainability,
    market_impact_prediction: predictMarketImpact(inflectionDetection),
    recommended_strategy: generateInflectionStrategy(inflectionDetection)
  };
};
```

---

# ç¬¬å…­éƒ¨åˆ†: æŠ•èµ„ç­–ç•¥å­¦ä¹ ç³»ç»Ÿ

## å­¦ä¹ æ¡†æ¶1: æŠ•èµ„å¤§å¸ˆç­–ç•¥å¤åˆ¶

### å·´è²ç‰¹ç­–ç•¥æ¨¡æ‹Ÿå™¨
```javascript
const buffettStrategySimulator = (universe, timeframe) => {
  const buffettCriteria = {
    // åŸºæœ¬ç­›é€‰æ¡ä»¶
    basic_screen: {
      roe: { min: 0.15, weight: 0.2 },
      debt_ratio: { max: 0.3, weight: 0.15 },
      revenue_growth: { min: 0.05, weight: 0.1 },
      market_cap: { min: 10000000000, weight: 0.05 } // 100äº¿ç¾å…ƒä»¥ä¸Š
    },

    // æŠ¤åŸæ²³è¯„ä¼°
    moat_assessment: {
      brand_strength: { min: 0.7, weight: 0.2 },
      switching_costs: { min: 0.6, weight: 0.15 },
      pricing_power: { min: 0.7, weight: 0.2 },
      regulatory_protection: { weight: 0.1 }
    },

    // ç®¡ç†å±‚è´¨é‡
    management_quality: {
      capital_allocation: { min: 0.8, weight: 0.15 },
      transparency: { min: 0.7, weight: 0.1 },
      shareholder_focus: { min: 0.8, weight: 0.15 }
    },

    // ä¼°å€¼åˆç†æ€§
    valuation: {
      pe_ratio: { max: 25, weight: 0.15 },
      price_to_book: { max: 3, weight: 0.1 },
      enterprise_yield: { min: 0.06, weight: 0.2 }
    }
  };

  // ç­–ç•¥æ‰§è¡Œ
  const portfolio = universe.filter(stock =>
    passesBuffettScreen(stock, buffettCriteria)
  ).sort((a, b) =>
    calculateBuffettScore(b, buffettCriteria) - calculateBuffettScore(a, buffettCriteria)
  ).slice(0, 10); // Top 10é€‰æ‹©

  return {
    selected_stocks: portfolio,
    position_sizes: calculateBuffettPositionSizes(portfolio),
    expected_holding_period: estimateHoldingPeriod(portfolio),
    risk_assessment: assessPortfolioRisk(portfolio),
    backtesting_results: backtestBuffettStrategy(portfolio, timeframe)
  };
};
```

### ä¸»æƒåŸºé‡‘ç­–ç•¥å­¦ä¹ 
```javascript
const sovereignFundStrategyLearning = (fund, allocation_history) => {
  const strategyPatterns = {
    // é…ç½®è§„å¾‹è¯†åˆ«
    allocation_patterns: identifyAllocationPatterns(allocation_history),

    // é‡å¹³è¡¡æ—¶æœº
    rebalancing_triggers: analyzeRebalancingTriggers(allocation_history),

    // è¡Œä¸šåå¥½æ¼”å˜
    sector_preferences: analyzeSectorEvolution(allocation_history),

    // åœ°åŸŸé…ç½®å˜åŒ–
    geographic_allocation: analyzeGeographicTrends(allocation_history)
  };

  // ç­–ç•¥æå–
  const learnedStrategy = {
    core_principles: extractCorePrinciples(strategyPatterns),
    decision_framework: buildDecisionFramework(strategyPatterns),
    risk_management: identifyRiskManagement(strategyPatterns),
    execution_methodology: defineExecutionMethod(strategyPatterns)
  };

  return {
    strategy_summary: learnedStrategy,
    applicability_score: assessApplicability(learnedStrategy),
    implementation_guide: createImplementationGuide(learnedStrategy),
    performance_expectations: predictPerformance(learnedStrategy)
  };
};
```

---

# ç¬¬ä¸ƒéƒ¨åˆ†: è¾“å‡ºæ ‡å‡†åŒ–æ ¼å¼

## èªæ˜é’±åˆ†ææŠ¥å‘Šæ¨¡æ¿

### åŸºç¡€ä¿¡æ¯
```markdown
## èªæ˜é’±è¿½è¸ªåˆ†æ

**åˆ†ææ ‡çš„**: [å…¬å¸åç§°]
**åˆ†ææ—¶é—´**: [YYYY-MM-DD]
**è·Ÿè¸ªæœŸé—´**: [èµ·å§‹-ç»“æŸæ—¥æœŸ]
**é‡ç‚¹æŠ•èµ„è€…**: [Top 5æŠ•èµ„è€…åå•]

### é¡¶çº§æŠ•èµ„è€…æŒä»“æ¦‚è§ˆ

#### Tier 1 ä¼ å¥‡æŠ•èµ„è€…
| æŠ•èµ„è€… | æŒè‚¡æ¯”ä¾‹ | å˜åŠ¨ | å¹³å‡æˆæœ¬ | æµ®ç›ˆçŠ¶æ€ | æŠ•èµ„é€»è¾‘ |
|--------|---------|------|----------|---------|----------|
| Berkshire | X.X% | +/-X.X% | $XXX | +/-XX% | [æ ¸å¿ƒé€»è¾‘] |
| [å…¶ä»–] | X.X% | +/-X.X% | $XXX | +/-XX% | [æ ¸å¿ƒé€»è¾‘] |

#### ä¸»æƒåŸºé‡‘é…ç½®
[è¯¦ç»†é…ç½®è¡¨æ ¼]

### å…±è¯†åº¦åˆ†æ
**æ•´ä½“å…±è¯†åº¦**: XX/100 ([å¼ºåº¦ç­‰çº§])
**å‚ä¸æœºæ„æ•°**: XXå®¶
**å…±è¯†å¼ºåº¦**: [Strong/Moderate/Weak]
**åˆ†æ­§ç‚¹**: [ä¸»è¦åˆ†æ­§é¢†åŸŸ]
```

### æŠ•èµ„é€»è¾‘è§£ç 
```markdown
### å·´è²ç‰¹æŠ•èµ„é€»è¾‘åˆ†æ

#### æŠ¤åŸæ²³è¯„ä¼°
- **æŠ€æœ¯æŠ¤åŸæ²³**: XX/100 ([è¯„ä¼°ä¾æ®])
- **æˆæœ¬æŠ¤åŸæ²³**: XX/100 ([è¯„ä¼°ä¾æ®])
- **å®¢æˆ·æŠ¤åŸæ²³**: XX/100 ([è¯„ä¼°ä¾æ®])
- **è§„æ¨¡æŠ¤åŸæ²³**: XX/100 ([è¯„ä¼°ä¾æ®])

**æŠ¤åŸæ²³ç»¼åˆè¯„åˆ†**: XX/100
**å·´è²ç‰¹æŠ•èµ„æ¦‚ç‡**: XX% ([åŸºäºå†å²æ¨¡å¼])

#### ä¸»æƒåŸºé‡‘é…ç½®é€»è¾‘
- **æˆ˜ç•¥é…ç½®æƒé‡**: XX% ([é…ç½®åŸå› ])
- **ESGè¯„åˆ†å½±å“**: XXåˆ† ([å…·ä½“è€ƒé‡])
- **åœ°ç¼˜æ”¿æ²»è€ƒé‡**: [é£é™©/æœºä¼šåˆ†æ]
- **é¢„æœŸæŒæœ‰æœŸ**: XXå¹´ ([åŸºäºåŸºé‡‘ç‰¹å¾])

### æœºæ„è¡Œä¸ºé¢„æµ‹
**ä¸‹ä¸€æœŸé¢„æœŸå˜åŒ–**:
- å¢æŒæ¦‚ç‡: XX%
- å‡æŒæ¦‚ç‡: XX%
- ç»´æŒæ¦‚ç‡: XX%

**å…³é”®è§¦å‘å› ç´ **: [å…·ä½“äº‹ä»¶åˆ—è¡¨]
```

### æŠ•èµ„ä¿¡å·ç”Ÿæˆ
```markdown
### èªæ˜é’±ä¿¡å·

#### å½“å‰ä¿¡å·çŠ¶æ€
ğŸŸ¢ **èµ„é‡‘æµå‘**: [æµå…¥/æµå‡º/ä¸­æ€§] (å¼ºåº¦: XX/100)
ğŸŸ¡ **å…±è¯†å˜åŒ–**: [å»ºç«‹/åˆ†åŒ–/ç¨³å®š] (å˜åŒ–ç‡: XX%)
ğŸ”´ **æ‹ç‚¹ä¿¡å·**: [æ£€æµ‹åˆ°/æœªæ£€æµ‹] (æ¦‚ç‡: XX%)

#### æŠ•èµ„å»ºè®®
**åŸºäºèªæ˜é’±åˆ†æ**:
- å»ºè®®ç­–ç•¥: [è·Ÿéš/åå‘/è§‚æœ›]
- æ—¶é—´çª—å£: [XXä¸ªæœˆ]
- é£é™©æç¤º: [å…·ä½“é£é™©ç‚¹]
- é€€å‡ºæ¡ä»¶: [æ˜ç¡®ä¿¡å·]

### å­¦ä¹ ä»·å€¼
**å¯å­¦ä¹ ç­–ç•¥è¦ç´ **:
1. [ç­–ç•¥è¦ç´ 1]: [å…·ä½“å­¦ä¹ ç‚¹]
2. [ç­–ç•¥è¦ç´ 2]: [å…·ä½“å­¦ä¹ ç‚¹]

**å®æ–½å»ºè®®**:
- é€‚ç”¨æŠ•èµ„è€…ç±»å‹: [å…·ä½“æè¿°]
- èµ„é‡‘é—¨æ§›: [æœ€ä½è¦æ±‚]
- æ‰§è¡Œå¤æ‚åº¦: [ç®€å•/ä¸­ç­‰/å¤æ‚]
```

---

# ç¬¬å…«éƒ¨åˆ†: æ•°æ®æ›´æ–°ä¸è´¨é‡æ§åˆ¶

## æ•°æ®æºç®¡ç†

### 13FæŠ¥å‘Šè‡ªåŠ¨è§£æ
é€šè¿‡ `src/data-sources/sec-filings.ts` å¤„ç†:
```javascript
const parse13FReports = async (filings) => {
  const parsedData = await Promise.all(filings.map(async filing => {
    return {
      investor_name: extractInvestorName(filing),
      filing_date: extractFilingDate(filing),
      positions: parsePositions(filing),
      changes: calculateChanges(filing, previousFiling),
      portfolio_value: calculateTotalValue(filing),
      concentration: calculateConcentration(filing)
    };
  }));

  // æ•°æ®éªŒè¯
  const validatedData = parsedData.filter(data => validateData(data));

  // å¼‚å¸¸æ£€æµ‹
  const anomalies = detectAnomalies(validatedData);

  return {
    parsed_filings: validatedData,
    data_quality_score: calculateQualityScore(validatedData),
    detected_anomalies: anomalies,
    update_timestamp: new Date()
  };
};
```

### å®æ—¶æŒä»“è¿½è¸ª
```javascript
const realTimePositionTracking = () => {
  const trackingSources = [
    'sec_filings',      // å­£åº¦13FæŠ¥å‘Š
    'insider_trading',  // å†…å¹•äº¤æ˜“æŠ«éœ²
    'block_trades',     // å¤§å®—äº¤æ˜“è®°å½•
    'proxy_statements', // è‚¡ä¸œå¤§ä¼šææ–™
    'earnings_calls'    // è´¢æŠ¥ç”µè¯ä¼šè®®
  ];

  return trackingSources.map(source => ({
    source: source,
    update_frequency: getUpdateFrequency(source),
    last_update: getLastUpdate(source),
    data_reliability: assessReliability(source),
    processing_method: getProcessingMethod(source)
  }));
};
```

## è´¨é‡æ§åˆ¶æœºåˆ¶

### é¢„æµ‹å‡†ç¡®æ€§è¿½è¸ª
æ–‡ä»¶: `data/smart-money-predictions/accuracy-log.json`

```json
{
  "prediction_type": "institutional_consensus",
  "predictions": [
    {
      "date": "2024-12-15",
      "prediction": "88.4%å…±è¯†åº¦ï¼Œé¢„æœŸä¸Šæ¶¨15-25%",
      "actual": "3ä¸ªæœˆåä¸Šæ¶¨19.2%",
      "accuracy_score": 0.94,
      "prediction_horizon": "3_months"
    }
  ],
  "overall_metrics": {
    "consensus_prediction_accuracy": "89.7%",
    "flow_prediction_accuracy": "76.3%",
    "timing_accuracy": "82.1%"
  }
}
```

### æ¨¡å‹æ ¡å‡†æµç¨‹
```javascript
const modelCalibration = {
  monthly_review: () => {
    // æ£€æŸ¥é¢„æµ‹å‡†ç¡®æ€§
    const accuracy = calculateMonthlyAccuracy();
    if (accuracy < 0.75) {
      triggerModelReview();
    }
  },

  quarterly_recalibration: () => {
    // é‡æ–°æ ¡å‡†æƒé‡
    recalibrateInvestorWeights();
    updateConsensusThresholds();
    validateBacktestingResults();
  },

  annual_strategy_review: () => {
    // ç­–ç•¥æœ‰æ•ˆæ€§å…¨é¢è¯„ä¼°
    assessStrategyEffectiveness();
    updateInvestorClassification();
    refineSignalGenerationLogic();
  }
};
```

---

## ç‰ˆæœ¬å†å²
- v1.0 (2026-02-05): åˆå§‹ç‰ˆæœ¬ã€‚æ•´åˆé¡¶çº§æŠ•èµ„è€…åˆ†ç±»+æŠ•èµ„é€»è¾‘è§£ç +æœºæ„å…±è¯†åº¦é‡åŒ–+è¡Œä¸ºå·®å¼‚åˆ†æ+æŠ•èµ„ä¿¡å·ç”Ÿæˆ+ç­–ç•¥å­¦ä¹ ç³»ç»Ÿã€‚åŸºäºTSMé¡¶çº§æŠ•èµ„è€…åˆ†ææˆåŠŸç»éªŒæ„å»ºã€‚