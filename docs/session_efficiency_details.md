# 会话效率系统详细规则 v1.0

> 此文件包含会话效率系统的完整模板和示例。
> CLAUDE.md中仅保留规则要点，详细内容按需读取本文件。

## 多目标检测响应模板

```
⚠️ 检测到多目标请求，建议拆分：
🎯 目标A：[描述]（优先级：？）
🎯 目标B：[描述]（优先级：？）
💡 建议本次会话专注目标A
📝 目标B/C已记录到progress.md待办队列
❓ 确认？
```

## 预算评估模板

```
📊 任务预算评估：
   📋 任务：[描述]
   🔢 预估步骤：[N]步
   ⏱️ 复杂度：[简单≤5步/中等6-15/复杂16-30/超大>30]
   📁 涉及文件：[N]个
   💡 建议：[直接执行/分阶段/多会话]
```

## 复杂度判断标准

| 复杂度 | 步骤数 | 文件数 | 字符修改量 | 行动 |
|--------|--------|--------|-----------|------|
| 简单 | ≤5 | ≤2 | <2,000 | 直接执行 |
| 中等 | 6-15 | 3-5 | 2,000-10,000 | 输出计划后执行 |
| 复杂 | 16-30 | 6-10 | 10,000-50,000 | 分阶段+检查点 |
| 超大 | >30 | >10 | >50,000 | 多会话+强制拆分 |

## Edit安全流程

1. Read文件 → 确认当前内容
2. 定位目标文本 → 复制精确内容作为old_string
3. 构造new_string → 保持缩进一致
4. 执行Edit → 验证成功
5. 如失败 → 重新Read → 调整匹配 → 重试

## Phase完成度报告模板

```
📊 Phase [N] 完成度报告：
✅ 已完成：[列表]
⏳ 部分完成：[列表+%]
❌ 未开始：[列表]
📈 量化：完成率[X/Y]=[Z]% | 字符[N]/[M] | 质量L[X.X]
🎯 评级：[Fully/Mostly/Partially Achieved]
📝 下次待办：[事项]
```

## CHANGELOG格式

遵循 Keep a Changelog 标准：Added/Changed/Fixed/Removed/Breaking
