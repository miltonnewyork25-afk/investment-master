# Worktree详细规则 v1.0

> CLAUDE.md中仅保留5条核心规则，详细操作协议见本文件。

## 公司-行业映射表

| 公司类型 | 建议Worktree |
|---------|-------------|
| NVIDIA, AMD, Intel, 台积电 | 半导体 |
| 苹果, 微软, 谷歌 | 科技 |
| 可口可乐, 宝洁, 联合利华 | 消费品 |
| NextEra, 隆基, 金风 | 生态科技 |
| 特斯拉, 比亚迪 | 询问用户 |

## 切换确认模板

```
🏢 公司：[公司名]
🏭 检测行业：[行业]
📍 当前位置：[当前worktree]
💡 建议：切换到[目标worktree]
❓ 1.切换 2.留在当前 3.指定其他
```

## Git操作区分

- "保存/推送" = `git push origin [当前分支]`（不碰main）
- "合并到main" = 需要逐项确认哪些改动适合合并

## 合并决策矩阵

合并到main：Bug修复 / 通用工具 / 框架增强 / 性能优化
留在worktree：行业特定 / 公司定制 / 实验性 / 临时需求

## 错误恢复

- 找不到文件 → Glob搜索所有worktree
- 位置错乱 → `git worktree list` 重新定位
- 误操作 → 立即停止+报告+提供回滚方案
